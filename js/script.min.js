document.addEventListener("DOMContentLoaded",function(){const backToTopButton=document.getElementById("back-to-top");window.addEventListener("scroll",function(){if(window.pageYOffset>250){backToTopButton.classList.add("visible")}else{backToTopButton.classList.remove("visible")}});backToTopButton.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})});document.addEventListener("navbarLoaded",function(){const searchBtn=document.querySelector(".search-btn");const searchInput=document.querySelector(".search-input");if(searchBtn&&searchInput){searchBtn.addEventListener("click",function(e){e.preventDefault();searchInput.classList.toggle("active");if(searchInput.classList.contains("active")){searchInput.focus()}});document.addEventListener("click",function(e){if(!e.target.closest(".search-container")){searchInput.classList.remove("active")}});document.addEventListener("keyup",function(e){if(e.key==="Escape"){searchInput.classList.remove("active")}})}});document.addEventListener("DOMContentLoaded",()=>{const navbarContainer=document.getElementById("navbar");if(!navbarContainer)return;fetch("../components/navbar.html").then(response=>response.text()).then(data=>{navbarContainer.innerHTML=data;document.dispatchEvent(new Event("navbarLoaded"));const links=navbarContainer.querySelectorAll("a.nav-link");const currentPath=window.location.pathname.split("/").pop();links.forEach(link=>{const linkPath=link.getAttribute("href").split("/").pop();if(linkPath===currentPath||currentPath===""&&linkPath==="index.html"||currentPath.startsWith("blog-detail")&&linkPath==="blog.html"){link.classList.add("active")}})}).catch(err=>console.error("Navbar Load Failed:",err))});document.addEventListener("DOMContentLoaded",()=>{const footerContainer=document.getElementById("footer");if(!footerContainer)return;fetch("../components/footer.html").then(response=>response.text()).then(data=>{footerContainer.innerHTML=data;document.dispatchEvent(new Event("footerLoaded"))}).catch(err=>console.error("Footer Load Failed:",err))});const ITEMS_PER_PAGE=6;let currentPage=1;function initializePagination(){const blogCards=document.querySelectorAll(".blog-card-wrapper");const totalPages=Math.ceil(blogCards.length/ITEMS_PER_PAGE);const paginationContainer=document.getElementById("blogPagination");if(!paginationContainer||blogCards.length===0)return;if("scrollRestoration"in history){history.scrollRestoration="manual"}updateBlogDisplay(blogCards,currentPage,true);updatePaginationControls(totalPages,paginationContainer);addKeyboardNavigation(paginationContainer)}function updateBlogDisplay(blogCards,page,isInitialLoad=false){const startIndex=(page-1)*ITEMS_PER_PAGE;const endIndex=startIndex+ITEMS_PER_PAGE;const blogContainer=document.querySelector(".container.p-5");const navbar=document.getElementById("navbar");const navbarHeight=navbar?navbar.offsetHeight:0;blogCards.forEach((card,index)=>{card.style.display=index>=startIndex&&index<endIndex?"block":"none";if(index>=startIndex&&index<endIndex){card.setAttribute("data-aos",index%2===0?"fade-right":"fade-left");card.removeAttribute("data-aos-easing")}});setTimeout(()=>{AOS.refresh()},100);if(!isInitialLoad){const containerTop=blogContainer.getBoundingClientRect().top+window.pageYOffset-navbarHeight;window.scrollTo({top:containerTop,behavior:"smooth"})}}function updatePaginationControls(totalPages,paginationContainer){paginationContainer.innerHTML="";const prevLi=document.createElement("li");prevLi.className=`page-item ${currentPage===1?"disabled":""}`;prevLi.innerHTML=`<a class="page-link" href="#" aria-label="Previous"><span aria-hidden="true">Previous</span></a>`;prevLi.addEventListener("click",e=>{e.preventDefault();if(currentPage>1){currentPage--;updateBlogDisplay(document.querySelectorAll(".blog-card-wrapper"),currentPage);updatePaginationControls(totalPages,paginationContainer)}});paginationContainer.appendChild(prevLi);for(let i=1;i<=totalPages;i++){const pageLi=document.createElement("li");pageLi.className=`page-item ${i===currentPage?"active":""}`;pageLi.innerHTML=`<a class="page-link" href="#">${i}</a>`;pageLi.addEventListener("click",e=>{e.preventDefault();currentPage=i;updateBlogDisplay(document.querySelectorAll(".blog-card-wrapper"),currentPage);updatePaginationControls(totalPages,paginationContainer)});paginationContainer.appendChild(pageLi)}const nextLi=document.createElement("li");nextLi.className=`page-item ${currentPage===totalPages?"disabled":""}`;nextLi.innerHTML=`<a class="page-link" href="#" aria-label="Next"><span aria-hidden="true">Next</span></a>`;nextLi.addEventListener("click",e=>{e.preventDefault();if(currentPage<totalPages){currentPage++;updateBlogDisplay(document.querySelectorAll(".blog-card-wrapper"),currentPage);updatePaginationControls(totalPages,paginationContainer)}});paginationContainer.appendChild(nextLi)}function addKeyboardNavigation(paginationContainer){const links=paginationContainer.querySelectorAll(".page-link");links.forEach((link,index)=>{link.setAttribute("tabindex","0");link.addEventListener("keydown",e=>{if(e.key==="Enter"||e.key===" "){e.preventDefault();link.click()}else if(e.key==="ArrowLeft"&&index>0){links[index-1].focus()}else if(e.key==="ArrowRight"&&index<links.length-1){links[index+1].focus()}})})}document.addEventListener("DOMContentLoaded",initializePagination);